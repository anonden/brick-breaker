(function(){"use strict";var e={3952:function(e,t,n){var i=n(3396);function o(e,t){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(n)}var a=n(89);const l={},r=(0,a.Z)(l,[["render",o]]);var u=r,s=n(2483),c=n(7139),g=n(4870);function d(e,t,n=0){const i=Math.max(Math.min(t,e),n);return{value:i,clampNeedeed:i!==e}}function v(e,t,n){return e>=n&&e<=t}function f(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function h(e,t,n){const i=(Math.pow(e,2)+Math.pow(t,2)-Math.pow(n,2))/(2*e*t),o=Math.acos(i);return o}var B=n(1020);const w=(0,B.Q_)("ballStore",(()=>{const e=(0,g.iH)({x:0,y:0}),t=(0,g.iH)(20),n=(0,g.iH)({x:5,y:5}),o=(0,g.iH)(!0),a=(0,i.Fl)((()=>e.value)),l=(0,i.Fl)((()=>t.value)),r=(0,i.Fl)((()=>n.value)),u=(0,i.Fl)((()=>o.value));function s(t){e.value=t}function c(t){e.value.x+=t}function d(t){e.value.y=t}function v(e){t.value=e}function f(e){n.value=e}function h(){n.value.x=-n.value.x}function B(){n.value.y=-n.value.y}function w(e){o.value=e}return{getBallPosition:a,getBallSize:l,getVector:r,getBallIsCaptured:u,changeBallPosition:s,changeBallPositionXByDiff:c,changeBallPositionY:d,changeBallSize:v,changeVector:f,mirrorVectorX:h,mirrorVectorY:B,changeBallCapture:w}})),p=(0,B.Q_)("baseStore",(()=>{const e=(0,g.iH)({x:0,y:0}),t=(0,g.iH)({x:0,y:0}),n=(0,g.iH)(new Set),o=(0,i.Fl)((()=>e.value)),a=(0,i.Fl)((()=>t.value)),l=(0,i.Fl)((()=>n.value));function r(e){u(e.x),s(e.y)}function u(t){e.value.x=t}function s(t){e.value.y=t}function c(e){t.value=e}function d(e){t.value.x=e}function v(e){n.value.add(e)}function f(e){n.value.delete(e)}return{getBasePosition:o,getBaseSize:a,getBaseModes:l,changeBasePosition:r,changeBasePositionX:u,changeBaseSize:c,changeBaseWidth:d,addBaseMode:v,removeBaseMode:f}})),m=(0,i.aZ)({name:"BallComponent"});var x=(0,i.aZ)({...m,setup(e){let t,n=8,o=!1,a=w(),l=(0,g.iH)(w()),r=p();function u(){let e=a.getBallPosition.y>=r.getBasePosition.y-a.getBallSize,t=v(a.getBallPosition.x,r.getBasePosition.x+r.getBaseSize.x,r.getBasePosition.x);return e&&t}function s(){S();let e=r.getBasePosition.x+r.getBaseSize.x/2,t={x:e,y:r.getBasePosition.y},n=a.getBallPosition.x-a.getVector.x/10,i=a.getBallPosition.y-a.getVector.y/10,o={x:n,y:i},l=r.getBaseSize.x/2,u=f(t,o),s=f(r.getBasePosition,o);const c=h(l,u,s),g=Math.PI-c;let d=Math.sqrt(Math.pow(a.getVector.x,2)+Math.pow(a.getVector.y,2)),v=d*Math.sin(g),B=d*Math.cos(g);a.changeVector({x:B,y:-v})}function B(e=!1){let n=d(a.getBallPosition.x+a.getVector.x,window.innerWidth-a.getBallSize),i=d(a.getBallPosition.y+a.getVector.y,window.innerHeight-a.getBallSize);if(i.value==window.innerHeight-a.getBallSize)a.changeBallCapture(!0);else if(r.getBaseModes.has("catch")&&e){a.changeBallCapture(!0);let e=P();i.value=e.y-a.getBallSize/2}a.changeBallPosition({x:n.value,y:i.value}),t.style.left=n.value+"px",t.style.top=i.value+"px",e||(n.clampNeedeed&&a.mirrorVectorX(),i.clampNeedeed&&a.mirrorVectorY())}function m(){let e=u();e&&s(),B(e),setTimeout((()=>{!a.getBallIsCaptured&&requestAnimationFrame(m)}),n)}function x(){if(!t){t=document.getElementById("ball"),y();let e=P();a.changeBallPosition(e),b()}t&&requestAnimationFrame(m)}function y(){let e=Math.max(window.innerWidth,window.innerHeight)/120;a.changeBallSize(e)}function P(){let e=window.innerHeight/100,t=window.innerWidth/192,n=window.innerWidth/2-a.getBallSize/2,i=window.innerHeight-(t+e+a.getBallSize/2+2);return{x:n,y:i}}function b(){let e=window.innerWidth/200,t=window.innerHeight/400;a.changeVector({x:e,y:-t})}function S(){let e=document.getElementById("base");e?.classList.add("hit"),setTimeout((()=>{e?.classList.remove("hit")}),150)}return(0,i.YP)((()=>a.getBallIsCaptured),(e=>{!e&&requestAnimationFrame(m)})),(0,i.YP)((()=>r.getBasePosition.x),((e,n)=>{if(o){if(a.getBallIsCaptured){let i=e-n;a.changeBallPositionXByDiff(i),t.style.left=a.getBallPosition.x+"px"}}else o=!0})),(0,i.bv)((()=>{x()})),(0,i.Ah)((()=>{a.changeBallCapture(!1)})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{id:"ball",class:"ball",style:(0,c.j5)({height:(0,g.SU)(l).getBallSize+"px"})},null,4))}});const y=x;var P=y;const b=(0,i.aZ)({name:"BaseComponent"});var S=(0,i.aZ)({...b,setup(e){let t;const n=(0,g.iH)(p()),o=w();function a(){let e=window.innerHeight/100,t=window.innerWidth/10,i=window.innerWidth/192;n.value.changeBaseSize({x:t,y:i});let o=window.innerWidth/2-n.value.getBaseSize.x/2,a=window.innerHeight-(i+e);n.value.changeBasePosition({x:o,y:a}),n.value.addBaseMode("normal"),s()}function l(e){const t=d(e.clientX,window.innerWidth-n.value.getBaseSize.x-2);n.value.changeBasePositionX(t.value)}function r(){o.changeBallCapture(!1)}function u(){t||(t=document.getElementById("base")),t&&a()}function s(){window.addEventListener("mousemove",l),window.addEventListener("click",r)}return(0,i.bv)((()=>{console.log("base mounted"),u()})),(0,i.Ah)((()=>{window.removeEventListener("mousemove",l),window.removeEventListener("click",r)})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{id:"base",class:"base",style:(0,c.j5)({left:n.value.getBasePosition.x+"px",top:n.value.getBasePosition.y+"px",width:n.value.getBaseSize.x+"px",height:n.value.getBaseSize.y+"px"})},null,4))}});const M=S;var z=M;const H={class:"scene"},C=(0,i.aZ)({name:"GameView",components:{BallComponent:P,BaseComponent:z}});var V=(0,i.aZ)({...C,setup(e){return(0,i.bv)((()=>{console.log("mounted gameview")})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",H,[(0,i.Wm)(z),(0,i.Wm)(P)]))}});const k=(0,a.Z)(V,[["__scopeId","data-v-163c73d2"]]);var W=k;const O=[{path:"/",name:"home",component:W}],F=(0,s.p7)({history:(0,s.PO)("/brick-breaker/"),routes:O});var j=F,I=n(9242);const E=(0,B.WB)(),Z=(0,I.ri)(u);Z.use(j).use(E).mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,a){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],a=e[c][2];for(var r=!0,u=0;u<i.length;u++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[u])}))?i.splice(u--,1):(r=!1,a<l&&(l=a));if(r){e.splice(c--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,l=i[0],r=i[1],u=i[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(u)var c=u(n)}for(t&&t(i);s<l.length;s++)a=l[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},i=self["webpackChunkbrick_breaker"]=self["webpackChunkbrick_breaker"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(3952)}));i=n.O(i)})();
//# sourceMappingURL=app.e4d363ae.js.map