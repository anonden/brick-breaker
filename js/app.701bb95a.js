(function(){"use strict";var e={1405:function(e,t,n){var o=n(3396);function i(e,t){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var a=n(89);const r={},l=(0,a.Z)(r,[["render",i]]);var c=l,u=n(2483),s=n(4870),g=n(1020);const v=(0,g.Q_)("gameStore",(()=>{const e=(0,s.iH)(!0),t=(0,o.Fl)((()=>e.value));function n(t){e.value=t}return{getGameStatus:t,changeGameStatus:n}}));var d=n(9242);const f=e=>((0,o.dD)("data-v-74a70422"),e=e(),(0,o.Cn)(),e),m=f((()=>(0,o._)("div",{class:"gameOverTitle"},"Game Over",-1))),h=(0,o.aZ)({name:"GameOverComponent"});var B=(0,o.aZ)({...h,setup(e){const t=v();function n(){t.changeGameStatus(!0)}return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"gameOverScene",onClick:t[0]||(t[0]=(0,d.iM)((()=>{}),["stop"]))},[(0,o._)("div",{class:"gameOverfloatMenu"},[m,(0,o._)("div",{class:"gameOverMenu",onClick:n},"Restart")])]))}});const p=(0,a.Z)(B,[["__scopeId","data-v-74a70422"]]);var w=p,y=n(7139);function x(e,t,n=0){const o=Math.max(Math.min(t,e),n);return{value:o,clampNeedeed:o!==e}}function b(e,t,n){return e>=n&&e<=t}function S(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function P(e,t,n){const o=(Math.pow(e,2)+Math.pow(t,2)-Math.pow(n,2))/(2*e*t),i=Math.acos(o);return i}const k=(0,g.Q_)("ballStore",(()=>{const e=(0,s.iH)({x:0,y:0}),t=(0,s.iH)(20),n=(0,s.iH)({x:5,y:5}),i=(0,s.iH)(!0),a=(0,o.Fl)((()=>e.value)),r=(0,o.Fl)((()=>t.value)),l=(0,o.Fl)((()=>n.value)),c=(0,o.Fl)((()=>i.value));function u(t){e.value=t}function g(t){e.value.x+=t}function v(t){e.value.y=t}function d(e){t.value=e}function f(e){n.value=e}function m(){n.value.x=-n.value.x}function h(){n.value.y=-n.value.y}function B(e){i.value=e}return{getBallPosition:a,getBallSize:r,getVector:l,getBallIsCaptured:c,changeBallPosition:u,changeBallPositionXByDiff:g,changeBallPositionY:v,changeBallSize:d,changeVector:f,mirrorVectorX:m,mirrorVectorY:h,changeBallCapture:B}})),z=(0,g.Q_)("baseStore",(()=>{const e=(0,s.iH)({x:0,y:0}),t=(0,s.iH)({x:0,y:0}),n=(0,s.iH)(new Set),i=(0,o.Fl)((()=>e.value)),a=(0,o.Fl)((()=>t.value)),r=(0,o.Fl)((()=>n.value));function l(e){c(e.x),u(e.y)}function c(t){e.value.x=t}function u(t){e.value.y=t}function g(e){t.value=e}function v(e){t.value.x=e}function d(e){n.value.add(e)}function f(e){n.value.delete(e)}return{getBasePosition:i,getBaseSize:a,getBaseModes:r,changeBasePosition:l,changeBasePositionX:c,changeBaseSize:g,changeBaseWidth:v,addBaseMode:d,removeBaseMode:f}})),M=(0,o.aZ)({name:"BallComponent"});var C=(0,o.aZ)({...M,setup(e){let t,n=15,i=!1,a=k(),r=(0,s.iH)(k()),l=z(),c=v();function u(){let e=a.getBallPosition.y>=l.getBasePosition.y-a.getBallSize,t=b(a.getBallPosition.x,l.getBasePosition.x+l.getBaseSize.x,l.getBasePosition.x);return e&&t}function g(){M();let e=l.getBasePosition.x+l.getBaseSize.x/2,t={x:e,y:l.getBasePosition.y},n=a.getBallPosition.x-a.getVector.x/10,o=a.getBallPosition.y-a.getVector.y/10,i={x:n,y:o},r=l.getBaseSize.x/2,c=S(t,i),u=S(l.getBasePosition,i);const s=P(r,c,u),g=Math.PI-s;let v=Math.sqrt(Math.pow(a.getVector.x,2)+Math.pow(a.getVector.y,2)),d=v*Math.sin(g),f=v*Math.cos(g);a.changeVector({x:f,y:-d})}function d(e=!1){let n=x(a.getBallPosition.x+a.getVector.x,window.innerWidth-a.getBallSize),o=x(a.getBallPosition.y+a.getVector.y,window.innerHeight-a.getBallSize);if(o.value==window.innerHeight-a.getBallSize)c.changeGameStatus(!1);else if(l.getBaseModes.has("catch")&&e){a.changeBallCapture(!0);let e=p();o.value=e.y-a.getBallSize/2}a.changeBallPosition({x:n.value,y:o.value}),t.style.left=n.value+"px",t.style.top=o.value+"px",e||(n.clampNeedeed&&a.mirrorVectorX(),o.clampNeedeed&&a.mirrorVectorY())}function f(){if(c.getGameStatus){setTimeout((()=>{!a.getBallIsCaptured&&f()}),n);let e=u();e&&requestAnimationFrame(g),requestAnimationFrame((function(){d(e)}))}}function m(){t||(t=document.getElementById("ball")),B();let e=p();a.changeBallPosition(e),w(),t&&f()}function h(){a.changeBallSize(0),a.changeBallCapture(!0)}function B(){let e=Math.max(window.innerWidth,window.innerHeight)/120;a.changeBallSize(e)}function p(){let e=window.innerHeight/100,t=window.innerWidth/192,n=window.innerWidth/2-a.getBallSize/2,o=window.innerHeight-(t+e+a.getBallSize/2+2);return{x:n,y:o}}function w(){let e=window.innerWidth/200,t=window.innerHeight/400;a.changeVector({x:e,y:-t})}function M(){let e=document.getElementById("base");e?.classList.add("hit"),setTimeout((()=>{e?.classList.remove("hit")}),150)}return(0,o.YP)((()=>c.getGameStatus),(e=>{e?m():h()})),(0,o.YP)((()=>a.getBallIsCaptured),(e=>{!e&&f()})),(0,o.YP)((()=>l.getBasePosition.x),((e,n)=>{if(i){if(a.getBallIsCaptured){let o=e-n;a.changeBallPositionXByDiff(o),t.style.left=a.getBallPosition.x+"px"}}else i=!0})),(0,o.bv)((()=>{m()})),(0,o.Ah)((()=>{h()})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:"ball",class:"ball",style:(0,y.j5)({height:(0,s.SU)(r).getBallSize+"px"})},null,4))}});const H=C;var O=H;const _=(0,o.aZ)({name:"BaseComponent"});var V=(0,o.aZ)({..._,setup(e){let t;const n=(0,s.iH)(z()),i=k(),a=v();function r(){let e=window.innerHeight/100,t=window.innerWidth/10,o=window.innerWidth/192;n.value.changeBaseSize({x:t,y:o});let i=window.innerWidth/2-n.value.getBaseSize.x/2,a=window.innerHeight-(o+e);n.value.changeBasePosition({x:i,y:a}),n.value.addBaseMode("normal"),g()}function l(e){const t=x(e.clientX,window.innerWidth-n.value.getBaseSize.x-2);n.value.changeBasePositionX(t.value)}function c(){i.getBallIsCaptured&&i.changeBallCapture(!1)}function u(){t||(t=document.getElementById("base")),t&&r()}function g(){window.addEventListener("mousemove",l),window.addEventListener("click",c)}function d(){window.removeEventListener("mousemove",l),window.removeEventListener("click",c)}return(0,o.YP)((()=>a.getGameStatus),(e=>{e?u():d()})),(0,o.bv)((()=>{console.log("base mounted"),u()})),(0,o.Ah)((()=>{d()})),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:"base",class:"base",style:(0,y.j5)({left:n.value.getBasePosition.x+"px",top:n.value.getBasePosition.y+"px",width:n.value.getBaseSize.x+"px",height:n.value.getBaseSize.y+"px"})},null,4))}});const Z=V;var F=Z;const W=(0,g.Q_)("brickStore",(()=>{let e=!1;const t=(0,s.iH)(new Array),n=(0,o.Fl)((()=>t.value));function i(e){t.value=e}function a(n,o){e||(e=!0,t.value[n].exists=!1,"horizontal"==o?k().mirrorVectorX():k().mirrorVectorY(),setTimeout((()=>{e=!1}),1))}return{getBrickLayout:n,changeBrickLayout:i,removeElementFromLayout:a}})),G=["id"],I=(0,o.aZ)({name:"BrickComponent"});var L=(0,o.aZ)({...I,props:{index:{type:Number,required:!0}},setup(e){const t=e;let n,i;const a=k(),r=W();function l(e){r.removeElementFromLayout(t.index,e)}function c(){const e=document.getElementById("brick_"+t.index);e&&(n=e.getBoundingClientRect(),i={right:n.right+a.getBallSize/2,left:n.left-a.getBallSize/2,bottom:n.bottom+a.getBallSize/2,top:n.top-a.getBallSize/2})}return(0,o.YP)((()=>a.getBallPosition),(e=>{const t=x(e.x,i.right,i.left);if(!t.clampNeedeed){const t=x(e.y,i.bottom,i.top);if(!t.clampNeedeed){let t,o=e.x-n.left,i=n.right-e.x,a=e.y-n.top,r=n.bottom-e.y,c=Math.min(o,i,a,r);t=c==r||c==a?"vertical":"horizontal",l(t)}}})),(0,o.bv)((()=>{c()})),(e,n)=>((0,o.wg)(),(0,o.iD)("div",{id:"brick_"+t.index,class:"brick"},null,8,G))}});const j=L;var D=j;const E={class:"brickContainer"},Y=(0,o.aZ)({name:"BrickSceneComponent",components:{BrickComponent:D}});var X=(0,o.aZ)({...Y,setup(e){const t=(0,s.iH)(W()),n=v();function i(e=500){const n=new Array;for(let t=0;t<e;++t)n[t]={exists:Math.random()<.5,type:"normal"};t.value.changeBrickLayout(n)}return(0,o.YP)((()=>n.getGameStatus),(e=>{e&&i()})),(0,o.bv)((()=>{i()})),(e,n)=>((0,o.wg)(),(0,o.iD)("div",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.getBrickLayout,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"outerBrick"},[e.exists?((0,o.wg)(),(0,o.j4)(D,{key:0,index:t},null,8,["index"])):(0,o.kq)("",!0)])))),128))]))}});const q=(0,a.Z)(X,[["__scopeId","data-v-a35c43fa"]]);var A=q;const N={class:"scene"},T=(0,o.aZ)({name:"GameView",components:{BallComponent:O,BaseComponent:F,GameOverComponent:w,BrickSceneComponent:A}});var Q=(0,o.aZ)({...T,setup(e){const t=(0,s.iH)(v());return(0,o.bv)((()=>{console.log("mounted gameview")})),(e,n)=>((0,o.wg)(),(0,o.iD)("div",N,[t.value.getGameStatus?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(w,{key:0})),(0,o.Wm)(A),(0,o.Wm)(F),(0,o.Wm)(O)]))}});const R=(0,a.Z)(Q,[["__scopeId","data-v-6a07aa60"]]);var K=R;const U=[{path:"/",name:"home",component:K}],J=(0,u.p7)({history:(0,u.PO)("/brick-breaker/"),routes:U});var $=J;const ee=(0,g.WB)(),te=(0,d.ri)(c);te.use($).use(ee).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,a){if(!o){var r=1/0;for(s=0;s<e.length;s++){o=e[s][0],i=e[s][1],a=e[s][2];for(var l=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(l=!1,a<r&&(r=a));if(l){e.splice(s--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,i,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,a,r=o[0],l=o[1],c=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(c)var s=c(n)}for(t&&t(o);u<r.length;u++)a=r[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(s)},o=self["webpackChunkbrick_breaker"]=self["webpackChunkbrick_breaker"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1405)}));o=n.O(o)})();
//# sourceMappingURL=app.701bb95a.js.map